# 한밭대학교 컴퓨터공학과 중증외상센터팀

**팀 구성**
- 20191732 박준후 
- 20227134 이창석

## <u>Teamate</u> Project Background
- ### 필요성
  - 연구에 따르면, 심정지 발생 시 즉각적인 CPR(심폐소생술)을 시행하면 생존률이 약 세 배까지 증가하며, 제세동이 1분 지연될 때마다 생존률이 7~10%씩 감소한다.
  - 그러나 CPR은 효과가 입증된 응급처치로 널리 알려져 있음에도, 실제 상황에서는 즉각적으로 시행되지 않는 경우가 많다.
  - 2022년 기준 국민의 95.5%가 CPR을 ‘안다‘고 응답했지만, 실제 일반인의 CPR 시행률은 29.2%에 불과하다.
  - 이는 대부분의 사람들이 응급처치의 중요성을 인식하고 있음에도, 실제 상황에서 당황하거나 자신이 없어서 제대로 대처하지 못하는 현실을 보여준다.
- ### 기존 해결책의 문제점
  - 현재 119 구급대가 이러한 응급상황에 대응하고 있으나, 그 역시 한계가 뚜렷하다. 
  - 소방청에 따르면 2023년 한 해 동안 119에 접수된 신고 건수는 약 1,195만 건에 달하며, 이는 1분에 23건꼴로 신고가 접수된 셈이다
  - 이 중 상당수가 비응급 신고나 단순 민원성 신고로 확인되어, 실제 중증 응급환자에 대한 대응이 지연되는 문제가 발생하고 있다.
  - 이러한 불필요한 신고로 인한 구급 자원 낭비와 현장 대응 지연은 사회 전체의 응급의료 효율성을 저하시키는 주요 원인이 된다.
  
## System Design
  - ### System Requirements
    - **소프트웨어 요구사항**
      - Python 3.11 이상 환경  
      - FastAPI 웹 프레임워크  
      - OpenAI GPT API (병명 추론 및 응급처치 안내용) 
      - Requests, dotenv, Pydantic 등 필수 라이브러리  

    - **네트워크 요구사항**
      - 안정적인 인터넷 연결 (API 통신 및 응급 데이터 송수신용)  
      - HTTPS 프로토콜 지원 (보안 통신용)  

    - **기능적 요구사항**
      - 사용자의 음성(STT) 입력을 텍스트로 변환  
      - 병명 추론 및 응급도 판단 자동화
      - 위치 확인 및 임의의 119 서버로 신고
      - 텍스트를 음성으로 변환하여 안내 (TTS 출력 포함)

    - **비기능적 요구사항**
      - 반응 속도: 사용자 입력 후 10초 이내 응답
      - 장애 복구: 예외 발생 시 fallback 로직 실행
    
## Case Study
  - ### Description
    - 본 시스템은 실제 응급 상황을 가정한 시나리오를 통해 테스트를 진행하였다.  
    사용자가 “사람이 숨을 쉬지 않아요”라고 입력했을 때,  
    AI 에이전트는 이를 분석하여 ‘심정지’로 병명을 추론하고,  
    응급도 ‘긴급’으로 분류하여 자동으로 119 신고 단계를 진행하였다.  
    이후, 사용자의 위치 정보를 요청하고, 신고 절차 완료 후  
    심폐소생술(CPR)과 관련된 응급처치 방법을 안내하였다.  
    해당 테스트를 통해 시스템이 실제 응급 상황에서도  
    정확하게 병명을 판별하고, 적절한 응급 대응을 안내할 수 있음을 확인하였다. 
  
  
## Conclusion
  - ### 효율적인 응급대응 지원
    본 프로젝트는 AI를 활용하여 사용자가 입력한 증상을 바탕으로 병명을 추론하고,
    응급도에 따라 적절한 응급처치와 신고 절차를 안내함으로써 
    비전문가도 신속하게 응급 상황에 대응할 수 있도록 지원하였다.
    이를 통해 응급 환자의 골든타임 확보와 사회적 보호망 강화에 기여할 수 있음을 확인하였다.

  - ### 향후 개선 및 확장 가능성
    현재 시스템은 주요 질환 중심으로 응급처치를 안내하지만,
    향후에는 데이터셋을 확장하여 더 다양한 응급상황에 대응하도록 개선할 예정이다.
    나아가, 의료 전용 도메인에 특화된 LLM(Large Language Model)을 연구하여,
    보다 정확하고 신뢰성 높은 지능형 응급처치 에이전트로 발전시키고자 한다.


  
## Project Outcome
- 본 프로젝트에서는 GPT 기반 응급의료 에이전트 시스템을 완성하였다.
사용자의 자연어 입력(또는 음성 인식 텍스트)을 바탕으로 환자의 증상을 분석하고,
병명 추론 → 응급도 판단 → 119 신고 → 위치 확인 → 응급처치 안내의 전 과정을 자동으로 수행한다.

- 백엔드는 FastAPI를 기반으로 설계되었으며,
병명 추론(disease_inference), 응급도 판단(emergency_escalation),
위치 파악(ask_location), 응급처치 안내(first_aid_followup),
주의사항 반환(first_aid_warning) 등의 기능이 독립된 API로 구성되어 있다.

- 테스트 결과, 사용자가 “사람이 숨을 쉬지 않아요”라고 입력했을 때
시스템은 이를 분석하여 ‘심정지’를 병명으로 확정하고,
응급도를 ‘긴급’으로 분류한 뒤 자동으로 119 신고 절차를 수행하고
심폐소생술(CPR) 응급처치를 단계별로 안내하였다.

이를 통해 본 시스템은 실제 응급 상황에서도 비전문가가
신속하고 정확하게 대응할 수 있는 지능형 응급처치 지원 플랫폼임을 입증하였다.
향후에는 의료 전문 LLM(Large Language Model)을 적용하여
더 다양한 질환과 복합 응급 상황에도 대응 가능한 고도화된 시스템으로 발전시킬 예정이다.
